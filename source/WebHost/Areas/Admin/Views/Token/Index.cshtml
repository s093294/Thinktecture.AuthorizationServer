@{
    ViewBag.Title = "Tokens";
}

<h2>@ViewBag.Title</h2>
<div class="hide" data-bind="css: { hide: !tokens().length }">
    <ul class="nav nav-pills">
        <li>
            <div class="btn-group">
                <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">Delete All
                    <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="#" data-bind="click: deleteAll"><span class="icon-ok"></span>
                            Confirm</a>
                    </li>
                    <li>                            
                        <a href="#"><span class="icon-remove"></span>
                            Cancel</a>
                    </li>
                </ul>
            </div>
        </li>
    </ul>
    <table class="table table-striped table-condensed">
        <thead>
            <tr>
                <th></th>
                <th>Created</th>
                <th>Expiration</th>
                <th>Subject</th>
                <th>Type</th>
                <th>Client</th>
                <th>Application</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: tokens">
            <tr>
                <td>
                    <div class="btn-group">
                        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">Delete
                            <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#" data-bind="click: function (data, evt) { $parent.deleteToken(data) }"><span class="icon-ok"></span>
                                    Confirm</a>
                            </li>
                            <li>                            
                                <a href="#"><span class="icon-remove"></span>
                                    Cancel</a>
                            </li>
                        </ul>
                    </div>
                </td>
                <td data-bind="text: created"></td>
                <td data-bind="text: expiration"></td>
                <td data-bind="text:subject"></td>
                <td data-bind="text: type"></td>
                <td data-bind="text: client"></td>
                <td data-bind="text: application"></td>
            </tr>
        </tbody>
    </table>
</div>

<p data-bind="css: { hide: tokens().length }" class="alert alert-warning hide">
    No Tokens Found
</p>

@section scripts{
    <script src="~/Areas/Admin/Scripts/Tokens.js"></script>
}